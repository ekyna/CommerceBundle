{% extends '@EkynaAdmin/Entity/Crud/create.html.twig' %}

{% set shipment = context.resource %}

{% block title %}
    <h1>{{ ((shipment.return ? 'return' : 'shipment') ~ '.header.new')|trans({}, 'EkynaCommerce')|raw }}</h1>
{% endblock title %}

{% block actions %}{% endblock actions %}

{% block side %}
    {% if shipment.sale is not sale_stockable_state %}
    <div class="alert alert-warning">
        {{ 'shipment.message.sale_is_not_stockable'|trans({}, 'EkynaCommerce')|raw }}
    </div>
    {% endif %}
    {% if shipment.sale|stock_can_prioritize %}
    <div class="alert alert-info">
        <p>{{ 'sale.prioritize.info'|trans({}, 'EkynaCommerce')|raw }}</p>
        <p>
            <a href="{{ admin_resource_path(shipment.sale, 'Ekyna\\Bundle\\CommerceBundle\\Action\\Admin\\Order\\PrioritizeAction') }}?_redirect={{ admin_resource_path(shipment, 'Ekyna\\Bundle\\CommerceBundle\\Action\\Admin\\Shipment\\CreateAction') }}"
               class="btn btn-sm btn-primary">
                {{ 'sale.button.prioritize'|trans({}, 'EkynaCommerce') }}
            </a>
        </p>
    </div>
    {% endif %}
    {{ parent() }}
{% endblock side %}
