define(["jquery","ekyna-form/collection"],function(o){"use strict";return o.fn.saleShipmentWidget=function(){return this.each(function(){var n,i=o(this),e=i.find(".commerce-shipment-pricing-prices"),t=i.find(".commerce-shipment-pricing-filter"),c=e.find('[data-collection-role="add"]'),r=t.data("filter-by");function a(){var i=e.find("tbody > tr").hide();(n=parseInt(t.val()))?(c.show(),i.filter(function(){return o(this).data(r)===n}).show()):c.hide()}t.on("change",a),a(),e.on("ekyna-collection-field-added",function(i){o(i.target).data(r,n).find(".shipment-price-"+r).val(n)})}),this},{init:function(i){i.saleShipmentWidget()}}});