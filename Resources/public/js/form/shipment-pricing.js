define(["jquery","ekyna-form/collection"],function(a){"use strict";return a.fn.saleShipmentWidget=function(){return this.each(function(){function b(){var b=e.find("tbody > tr").hide();return(c=parseInt(f.val()))?(g.show(),void b.filter(function(){return a(this).data(h)===c}).show()):void g.hide()}var c,d=a(this),e=d.find(".commerce-shipment-pricing-prices"),f=d.find(".commerce-shipment-pricing-filter"),g=e.find('[data-collection-role="add"]'),h=f.data("filter-by");f.on("change",b),b(),e.on("ekyna-collection-field-added",function(b){var d=a(b.target);d.data(h,c).find(".shipment-price-"+h).val(c)})}),this},{init:function(a){a.saleShipmentWidget()}}});