define(["jquery","ekyna-commerce/form/address"],function(a){"use strict";return a.fn.saleWidget=function(){return this.each(function(){var b=a(this),c=b.prop("name"),d=a('select[name="'+c+'[customer]"]'),e=a('select[name="'+c+'[currency]"]'),f=a('select[name="'+c+'[locale]"]');d.on("change",function(){if(d.val()){var b=d.select2("data");if(b.length){var c=b[0];if(!c.hasOwnProperty("currency")){if(!c.hasOwnProperty("element"))return;c=a(c.element).data("entity")}if(!c.hasOwnProperty("currency"))return;e.val(c.currency).trigger("change"),f.val(c.locale).trigger("change")}}})}),this},{init:function(a){a.saleWidget()}}});