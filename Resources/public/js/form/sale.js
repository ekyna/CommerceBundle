define(["jquery","ekyna-commerce/form/address"],function(c){"use strict";return c.fn.saleWidget=function(){return this.each(function(){var e=c(this).prop("name"),n=c('select[name="'+e+'[customer]"]'),r=c('select[name="'+e+'[currency]"]'),t=c('select[name="'+e+'[locale]"]');n.on("change",function(){if(n.val()){var e=n.select2("data");if(e.length){e=e[0];if(!e.hasOwnProperty("currency")){if(!e.hasOwnProperty("element"))return;e=c(e.element).data("entity")}e.hasOwnProperty("currency")&&(r.val(e.currency).trigger("change"),t.val(e.locale).trigger("change"))}}})}),this},{init:function(e){e.saleWidget()}}});