define(["jquery","routing","ekyna-commerce/form/address"],function(a,b){"use strict";return a.fn.saleWidget=function(){return this.each(function(){var b=a(this),c=b.prop("name"),d=a('select[name="'+c+'[customer]"]'),e=a('select[name="'+c+'[currency]"]'),f=a('select[name="'+c+'[locale]"]'),g=a('input[name="'+c+'[autoShipDate]"]'),h=a('input[name="'+c+'[estimatedShipDate]"]');if(d.on("change",function(){if(d.val()){var b=d.select2("data");if(b.length){var c=b[0];if(!c.hasOwnProperty("currency")){if(!c.hasOwnProperty("element"))return;c=a(c.element).data("entity")}if(!c.hasOwnProperty("currency"))return;e.val(c.currency).trigger("change"),f.val(c.locale).trigger("change")}}}),1===g.length){var i=function(){h.prop("disabled",g.is(":checked"))};g.on("change",i)}}),this},{init:function(a){a.saleWidget()}}});