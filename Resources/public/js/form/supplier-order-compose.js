define(["jquery","ekyna-form/collection"],function(i){"use strict";return i.fn.supplierOrderItemWidget=function(){return this.each(function(){i(this).find("input.order-item-net-price, input.order-item-weight").on("change keyup",function(){var e=i(this).parent();(parseFloat(String(i(this).val()).replace(",","."))||0)<=0?e.addClass("has-warning"):e.removeClass("has-warning")}).trigger("change")}),this},i.fn.supplierOrderComposeWidget=function(){return this.each(function(){var e=i(this),n=e.find(".order-compose-items").eq(0),o=e.find(".order-compose-quick-add-select").eq(0),e=e.find(".order-compose-quick-add-button").eq(0),d=["designation","reference","net-price","weight","tax-group"];n.find(".commerce-supplier-order-item").supplierOrderItemWidget(),e.on("click",function(){for(var e=o.val(),i=o.find("option[value="+e+"]"),r=(n.find('[data-collection-role="add"]').trigger("click"),n.find(".ekyna-collection-child:last-child")),t=0;t<d.length;t++)r.find(".order-item-"+d[t]).val(i.data(d[t]));r.find(".order-item-product").val(e),r.supplierOrderItemWidget()})}),this},{init:function(e){e.supplierOrderComposeWidget()}}});