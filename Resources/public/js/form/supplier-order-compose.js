define(["jquery","ekyna-form/collection"],function(a){"use strict";return a.fn.supplierOrderItemWidget=function(){return this.each(function(){var b=a(this),c=b.find("input.order-item-net-price, input.order-item-weight");c.on("change keyup",function(){var b=a(this).parent(),c=parseFloat(String(a(this).val()).replace(",","."))||0;0>=c?b.addClass("has-warning"):b.removeClass("has-warning")}).trigger("change")}),this},a.fn.supplierOrderComposeWidget=function(){return this.each(function(){var b=a(this),c=b.find(".order-compose-items").eq(0),d=b.find(".order-compose-quick-add-select").eq(0),e=b.find(".order-compose-quick-add-button").eq(0),f=["designation","reference","net-price","weight","tax-group"];c.find(".commerce-supplier-order-item").supplierOrderItemWidget(),e.on("click",function(){var a=d.val(),b=d.find("option[value="+a+"]");c.find('[data-collection-role="add"]').trigger("click");for(var e=c.find(".ekyna-collection-child:last-child"),g=0;g<f.length;g++)e.find(".order-item-"+f[g]).val(b.data(f[g]));e.find(".order-item-product").val(a),e.supplierOrderItemWidget()})}),this},{init:function(a){a.supplierOrderComposeWidget()}}});