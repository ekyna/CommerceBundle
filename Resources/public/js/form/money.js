define(["jquery","ekyna-polyfill","bootstrap"],function(t){"use strict";function i(e){this.$element=e,this.$element.data("moneyWidget",this),this.$base=this.$element.find(".commerce-money-base"),this.$quote=this.$element.find(".commerce-money-quote"),0!==this.$base.length&&0!==this.$quote.length&&(this.config=this.$element.data("config"),this.options={minimumFractionDigits:this.config.scale,useGrouping:!1},this.$base.on("change keyup",t.proxy(this.onBaseChange,this)),this.$quote.on("change keyup",t.proxy(this.onQuoteChange,this)),this.onBaseChange(),this.$element.tooltip())}return i.prototype.onBaseChange=function(){var e=parseFloat(this.$base.val().replace(" ","").replace(",","."));isNaN(e)&&(e=0),this.$quote.val((e*this.config.rate).localizedNumber(null,this.options))},i.prototype.onQuoteChange=function(){var e=parseFloat(this.$quote.val().replace(" ","").replace(",","."));isNaN(e)&&(e=0),this.$base.val((e/this.config.rate).localizedNumber(null,this.options))},{init:function(e){e.each(function(){void 0===t(this).data("moneyWidget")&&new i(t(this))})}}});