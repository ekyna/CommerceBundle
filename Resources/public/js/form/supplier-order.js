define(["jquery","ekyna-form/collection"],function(a){"use strict";return a.fn.supplierOrderItemWidget=function(){return this.each(function(){function b(){var a=String(c.find(".order-item-product").val()),b=0<a.length;c.find(".order-item-designation, .order-item-reference").prop("readonly",b)}var c=a(this);c.find("input").on("change",b),b()}),this},a.fn.supplierOrderComposeWidget=function(){return this.each(function(){var b=a(this),c=b.find(".order-compose-items").eq(0),d=b.find(".order-compose-quick-add-select").eq(0),e=b.find(".order-compose-quick-add-button").eq(0),f=["designation","reference","net-price"];c.find(".commerce-supplier-order-item").supplierOrderItemWidget(),e.on("click",function(){var a=d.val(),b=d.find("option[value="+a+"]");c.find('[data-collection-role="add"]').trigger("click");for(var e=c.find(".ekyna-collection-child:last-child"),g=0;g<f.length;g++)e.find(".order-item-"+f[g]).val(b.data(f[g]));e.supplierOrderItemWidget(),e.find(".order-item-product").val(a).trigger("change")})}),this},a.fn.supplierOrderWidget=function(){return this.each(function(){var b=a(this);b.find(".commerce-supplier-order-compose").supplierOrderComposeWidget()}),this},{init:function(a){a.supplierOrderWidget()}}});