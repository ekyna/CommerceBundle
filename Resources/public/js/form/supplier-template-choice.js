define(["jquery","routing","tinymce"],function(o,d){"use strict";if("undefined"==typeof tinymce)throw"Tinymce is not available.";return o.fn.supplierOrderTemplateWidget=function(){this.each(function(){var t,e=o(this),i=e.closest("form"),n=e.find(".template-choice"),r=e.find(".locale-choice"),a=i.find(".notify-subject"),s=i.find(".notify-message"),c=s.attr("id");return e.on("change","select",function(){o.getJSON(d.generate("admin_ekyna_commerce_supplier_order_template",{supplierOrderId:e.data("order-id"),id:n.val(),_locale:r.val()}),function(e){e.hasOwnProperty("subject")&&a.val(e.subject),e.hasOwnProperty("message")&&((t=tinymce.get(c))?t.setContent(e.message):s.val(e.message))})}),this})},{init:function(e){e.supplierOrderTemplateWidget()}}});