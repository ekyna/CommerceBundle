define(["jquery","routing","tinymce"],function(a,b){"use strict";if("undefined"==typeof tinymce)throw"Tinymce is not available.";return a.fn.supplierOrderTemplateWidget=function(){this.each(function(){var c=a(this),d=c.closest("form"),e=c.find(".template-choice"),f=c.find(".locale-choice"),g=d.find(".notify-subject"),h=d.find(".notify-message");return c.on("change","select",function(){a.getJSON(b.generate("ekyna_commerce_supplier_order_admin_template",{supplierOrderId:c.data("order-id"),name:e.val(),_locale:f.val()}),function(a){if(a.hasOwnProperty("subject")&&g.val(a.subject),a.hasOwnProperty("message")){var b,c=h.attr("id");b=tinymce.get(c),b?b.setContent(a.message):h.val(a.message)}})}),this})},{init:function(a){a.supplierOrderTemplateWidget()}}});